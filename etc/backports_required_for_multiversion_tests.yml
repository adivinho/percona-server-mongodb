# This file is intended to track tests that should be denylisted from multiversion testing due to
# changes that have not yet been backported to the last-lts or last-continuous development
# branches.
#
# Usage:
# Add the server ticket number and the path to the test file for the test you intend to denylist
# under the appropriate suite. Any test in a (ticket, test_file) pair that appears in this file but
# not in the last-lts or last-continuous branch version of this file indicates that a commit has
# not yet been backported to the last-lts or last-continuous branch and will be excluded from the
# multiversion suite corresponding to the root level suite key.
#
# Example: To prevent 'my_test_file.js' from running in the 'replica_sets_multiversion' suite with the last-continuous binary
# replica_sets_multiversion:
#   - ticket: SERVER-1000
#     test_file: jstests/core/my_test_file.js
#
# The above example will denylist jstests/core/my_test_file.js from the
# 'replica_sets_multiversion_gen' task until this file has been updated with the same
# (ticket, test_file) pair on the last-lts branch.
#
all:
- test_file: jstests/sharding/log_remote_op_wait.js
  ticket: SERVER-31368
- test_file: jstests/replsets/cluster_chaining_override.js
  ticket: SERVER-37904
- test_file: jstests/sharding/explain_cmd.js
  ticket: SERVER-38691
- test_file: jstests/replsets/step_down_chaining_disabled.js
  ticket: SERVER-39621
- test_file: jstests/core/profile_find.js
  ticket: SERVER-40805
- test_file: jstests/replsets/kill_reads_with_prepare_conflicts_during_step_down.js
  ticket: SERVER-42825
- test_file: jstests/replsets/kill_reads_with_prepare_conflicts_during_step_up.js
  ticket: SERVER-42825
- test_file: jstests/replsets/no_disconnect_on_stepdown.js
  ticket: SERVER-42825
- test_file: jstests/replsets/read_operations_during_rollback.js
  ticket: SERVER-42825
- test_file: jstests/replsets/read_operations_during_step_down.js
  ticket: SERVER-42825
- test_file: jstests/replsets/read_operations_during_step_up.js
  ticket: SERVER-42825
- test_file: jstests/replsets/step_down_on_secondary.js
  ticket: SERVER-42825
- test_file: jstests/sharding/retryable_writes.js
  ticket: SERVER-43889
- test_file: jstests/core/txns/new_transaction_waits_for_previous_txn_table_updates.js
  ticket: SERVER-44260
- test_file: jstests/replsets/rollback_dup_ids_clean_shutdown_during_rollback.js
  ticket: SERVER-45010
- test_file: jstests/replsets/reconfig_uses_default_protocolVersion.js
  ticket: SERVER-45143
- test_file: jstests/replsets/rollback_via_refetch_update_rollback_id_before_oplog_truncation.js
  ticket: SERVER-45178
- test_file: jstests/replsets/trigger_initial_stable_checkpoint.js
  ticket: SERVER-45906
- test_file: jstests/replsets/force_shutdown_primary.js
  ticket: SERVER-47190
- test_file: jstests/core/txns/no_writes_to_config_transactions_with_prepared_transaction.js
  ticket: SERVER-48525
- test_file: jstests/replsets/disconnect_on_legacy_write_to_secondary.js
  ticket: SERVER-50416
- test_file: jstests/sharding/time_zone_info_mongos.js
  ticket: SERVER-55725
- test_file: jstests/change_streams/show_raw_update_description_v1_oplog.js
  ticket: SERVER-61894
- test_file: jstests/change_streams/show_raw_update_description_v1_oplog.js
  ticket: SERVER-63159
- test_file: jstests/core/internal_apply_oplog_update.js
  ticket: SERVER-63159
suites:
  change_streams_multiversion: null
  change_streams_sharded_collections_multiversion_passthrough: null
  concurrency_replication_multiversion: null
  concurrency_sharded_replication_multiversion: null
  replica_sets_jscore_multiversion_passthrough:
  - test_file: jstests/core/apply_ops_system_dot_views.js
    ticket: SERVER-47469
  replica_sets_multiversion:
  - test_file: jstests/replsets/rollback_via_refetch_anomaly.js
    ticket: SERVER-48518
  - test_file: jstests/replsets/invalidate_sessions_on_stepdown.js
    ticket: SERVER-47645
  - test_file: jstests/replsets/disallow_adding_initialized_node1.js
    ticket: SERVER-35649
  - test_file: jstests/replsets/read_concern_uninitated_set.js
    ticket: SERVER-47568
  - test_file: jstests/replsets/disable_cluster_time_gossiping_in_unreadable_state.js
    ticket: SERVER-47568
  sharded_collections_jscore_multiversion_passthrough:
  - test_file: jstests/core/apply_ops_system_dot_views.js
    ticket: SERVER-47469
  sharding_jscore_multiversion_passthrough:
  - test_file: jstests/core/apply_ops_system_dot_views.js
    ticket: SERVER-47469
  sharding_multiversion:
  - test_file: jstests/sharding/retryable_writes_nested_shard_key.js
    ticket: SERVER-56127
  - test_file: jstests/sharding/shard_collection_basic.js
    ticket: SERVER-63732
